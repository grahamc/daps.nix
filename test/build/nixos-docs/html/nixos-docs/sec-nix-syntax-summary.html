<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Syntax Summary</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="NixOS Manual" /><link rel="up" href="sec-configuration-syntax.html" title="Chapter 5. Configuration Syntax" /><link rel="prev" href="sec-modularity.html" title="Modularity" /><link rel="next" href="sec-package-management.html" title="Chapter 6. Package Management" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Syntax Summary</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec-modularity.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Configuration Syntax</th><td width="20%" align="right"> <a accesskey="n" href="sec-package-management.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sec-nix-syntax-summary"></a>Syntax Summary</h2></div></div></div><p>Below is a summary of the most important syntactic constructs in
the Nix expression language.  It’s not complete.  In particular, there
are many other built-in functions.  See the <a class="link" href="configuration-http://nixos.org/nix/manual/#chap-writing-nix-expressions" target="_top">Nix
manual</a> for the rest.</p><div class="informaltable"><table class="informaltable" border="0"><colgroup><col class="c1" /><col class="c2" /></colgroup><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody><tr><td colspan="2"><span class="emphasis"><em>Basic values</em></span></td></tr><tr><td><code class="literal">"Hello world"</code></td><td>A string</td></tr><tr><td><code class="literal">"${pkgs.bash}/bin/sh"</code></td><td>A string containing an expression (expands to <code class="literal">"/nix/store/<em class="replaceable"><code>hash</code></em>-bash-<em class="replaceable"><code>version</code></em>/bin/sh"</code>)</td></tr><tr><td><code class="literal">true</code>, <code class="literal">false</code></td><td>Booleans</td></tr><tr><td><code class="literal">123</code></td><td>An integer</td></tr><tr><td><code class="literal">./foo.png</code></td><td>A path (relative to the containing Nix expression)</td></tr><tr><td colspan="2"><span class="emphasis"><em>Compound values</em></span></td></tr><tr><td><code class="literal">{ x = 1; y = 2; }</code></td><td>An set with attributes names <code class="literal">x</code> and <code class="literal">y</code></td></tr><tr><td><code class="literal">{ foo.bar = 1; }</code></td><td>A nested set, equivalent to <code class="literal">{ foo = { bar = 1; }; }</code></td></tr><tr><td><code class="literal">rec { x = "foo"; y = x + "bar"; }</code></td><td>A recursive set, equivalent to <code class="literal">{ x = "foo"; y = "foobar"; }</code></td></tr><tr><td><code class="literal">[ "foo" "bar" ]</code></td><td>A list with two elements</td></tr><tr><td colspan="2"><span class="emphasis"><em>Operators</em></span></td></tr><tr><td><code class="literal">"foo" + "bar"</code></td><td>String concatenation</td></tr><tr><td><code class="literal">1 + 2</code></td><td>Integer addition</td></tr><tr><td><code class="literal">"foo" == "f" + "oo"</code></td><td>Equality test (evaluates to <code class="literal">true</code>)</td></tr><tr><td><code class="literal">"foo" != "bar"</code></td><td>Inequality test (evaluates to <code class="literal">true</code>)</td></tr><tr><td><code class="literal">!true</code></td><td>Boolean negation</td></tr><tr><td><code class="literal">{ x = 1; y = 2; }.x</code></td><td>Attribute selection (evaluates to <code class="literal">1</code>)</td></tr><tr><td><code class="literal">{ x = 1; y = 2; }.z or 3</code></td><td>Attribute selection with default (evaluates to <code class="literal">3</code>)</td></tr><tr><td><code class="literal">{ x = 1; y = 2; } // { z = 3; }</code></td><td>Merge two sets (attributes in the right-hand set taking precedence)</td></tr><tr><td colspan="2"><span class="emphasis"><em>Control structures</em></span></td></tr><tr><td><code class="literal">if 1 + 1 == 2 then "yes!" else "no!"</code></td><td>Conditional expression</td></tr><tr><td><code class="literal">assert 1 + 1 == 2; "yes!"</code></td><td>Assertion check (evaluates to <code class="literal">"yes!"</code>). See <a class="xref" href="sec-assertions.html" title="Warnings and Assertions">the section called “Warnings and Assertions”</a> for using assertions in modules</td></tr><tr><td><code class="literal">let x = "foo"; y = "bar"; in x + y</code></td><td>Variable definition</td></tr><tr><td><code class="literal">with pkgs.lib; head [ 1 2 3 ]</code></td><td>Add all attributes from the given set to the scope
        (evaluates to <code class="literal">1</code>)</td></tr><tr><td colspan="2"><span class="emphasis"><em>Functions (lambdas)</em></span></td></tr><tr><td><code class="literal">x: x + 1</code></td><td>A function that expects an integer and returns it increased by 1</td></tr><tr><td><code class="literal">(x: x + 1) 100</code></td><td>A function call (evaluates to 101)</td></tr><tr><td><code class="literal">let inc = x: x + 1; in inc (inc (inc 100))</code></td><td>A function bound to a variable and subsequently called by name (evaluates to 103)</td></tr><tr><td><code class="literal">{ x, y }: x + y</code></td><td>A function that expects a set with required attributes
        <code class="literal">x</code> and <code class="literal">y</code> and concatenates
        them</td></tr><tr><td><code class="literal">{ x, y ? "bar" }: x + y</code></td><td>A function that expects a set with required attribute
        <code class="literal">x</code> and optional <code class="literal">y</code>, using
        <code class="literal">"bar"</code> as default value for
        <code class="literal">y</code></td></tr><tr><td><code class="literal">{ x, y, ... }: x + y</code></td><td>A function that expects a set with required attributes
        <code class="literal">x</code> and <code class="literal">y</code> and ignores any
        other attributes</td></tr><tr><td><code class="literal">{ x, y } @ args: x + y</code></td><td>A function that expects a set with required attributes
        <code class="literal">x</code> and <code class="literal">y</code>, and binds the
        whole set to <code class="literal">args</code></td></tr><tr><td colspan="2"><span class="emphasis"><em>Built-in functions</em></span></td></tr><tr><td><code class="literal">import ./foo.nix</code></td><td>Load and return Nix expression in given file</td></tr><tr><td><code class="literal">map (x: x + x) [ 1 2 3 ]</code></td><td>Apply a function to every element of a list (evaluates to <code class="literal">[ 2 4 6 ]</code>)</td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec-modularity.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="sec-configuration-syntax.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="sec-package-management.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Modularity </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. Package Management</td></tr></table></div></body></html>